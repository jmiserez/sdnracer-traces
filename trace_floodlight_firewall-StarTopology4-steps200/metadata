{
  "additional_metadata": null,
  "argv": [
    "./simulator.py",
    "-L",
    "logging.cfg",
    "-c",
    "config/trace_floodlight_firewall.py"
  ],
  "cwd": "/home/jeremie/mscthesis/jmiserez/sts",
  "host": {
    "cpu_info": "Intel(R) Core(TM) i7-2720QM CPU @ 2.20GHz",
    "free": "total       used       free     shared    buffers     cached\nMem:      16310124   15054108    1256016     110240     449632    5813948\n-/+ buffers/cache:    8790528    7519596\nSwap:     16650236     273132   16377104",
    "name": "espresso",
    "num_cores": "8",
    "uptime": "16:11:51 up 4 days,  4:14, 13 users,  load average: 0.26, 0.41, 0.53"
  },
  "modules": {
    "hassel": {
      "branch": "HEAD",
      "commit": "31afb29fa66783f5a66765bc186509b65ffc023e",
      "diff": "",
      "status": "HEAD detached at 31afb29\nnothing to commit, working directory clean"
    },
    "pox": {
      "branch": "hb",
      "commit": "85cf31dba661265ad8d63f79e9f92fb55d12f383",
      "diff": "",
      "status": "On branch hb\nYour branch is up-to-date with 'origin/hb'.\n\nnothing to commit, working directory clean"
    },
    "sts": {
      "branch": "hb",
      "commit": "bf0d2e895b725538bf8aada821e2933b8683bd27",
      "diff": "diff --git a/config/application_events.py b/config/application_events.py\nindex c432faa..a4ad532 100644\n--- a/config/application_events.py\n+++ b/config/application_events.py\n@@ -264,11 +264,11 @@ class AppFloodlightFirewall(ControllerApp):\n                                      ' -d \\''\n                                      '{\"src-ip\": \"%s/32\",'\n                                      ' \"dst-ip\": \"%s/32\",'\n-                                     ' \"dl-type\": \"IPv4\"'\n+                                     ' \"dl-type\": \"ARP\"'\n                                      '}\\''\n                                      % (self.controller,\n-                                        str(c[0].toStr()),\n-                                        str(c[1].toStr())\n+                                        str(c[1].toStr()),\n+                                        str(c[0].toStr())\n                                         )\n                                      )\n                      )\n@@ -277,7 +277,7 @@ class AppFloodlightFirewall(ControllerApp):\n                                      ' -d \\''\n                                      '{\"src-ip\": \"%s/32\",'\n                                      ' \"dst-ip\": \"%s/32\",'\n-                                     ' \"dl-type\": \"ARP\"'\n+                                     ' \"dl-type\": \"IPv4\"'\n                                      '}\\''\n                                      % (self.controller,\n                                         str(c[1].toStr()),\n@@ -293,11 +293,37 @@ class AppFloodlightFirewall(ControllerApp):\n                                      ' \"dl-type\": \"IPv4\"'\n                                      '}\\''\n                                      % (self.controller,\n+                                        str(c[0].toStr()),\n+                                        str(c[1].toStr())\n+                                        )\n+                                     )\n+                     )\n+      cmdlist.append(cmdline_to_args('curl -s -X POST'\n+                                     ' http://%s/wm/firewall/rules/json'\n+                                     ' -d \\''\n+                                     '{\"src-ip\": \"%s/32\",'\n+                                     ' \"dst-ip\": \"%s/32\",'\n+                                     ' \"nw-proto\": \"ICMP\"'\n+                                     '}\\''\n+                                     % (self.controller,\n                                         str(c[1].toStr()),\n                                         str(c[0].toStr())\n                                         )\n                                      )\n                      )\n+      cmdlist.append(cmdline_to_args('curl -s -X POST'\n+                                     ' http://%s/wm/firewall/rules/json'\n+                                     ' -d \\''\n+                                     '{\"src-ip\": \"%s/32\",'\n+                                     ' \"dst-ip\": \"%s/32\",'\n+                                     ' \"nw-proto\": \"ICMP\"'\n+                                     '}\\''\n+                                     % (self.controller,\n+                                        str(c[0].toStr()),\n+                                        str(c[1].toStr())\n+                                        )\n+                                     )\n+                     )\n       print \"Installing rule: \"+str(c[0].toStr()) + \" <-> \" + str(c[1].toStr() + \" (id: \" + str(rule_group_id) + \")\")\n       for args in cmdlist:\n #         print args\ndiff --git a/config/fuzzer_params.py b/config/fuzzer_params.py\nindex 6e79ac5..754fab8 100644\n--- a/config/fuzzer_params.py\n+++ b/config/fuzzer_params.py\n@@ -21,5 +21,5 @@ app_floodlight_circuitpusher_add_rate = 0.5\n app_floodlight_circuitpusher_add_parallelism = 1\n app_floodlight_circuitpusher_del_rate = 0.1\n app_floodlight_circuitpusher_del_parallelism = 1\n-app_floodlight_firewall_allow_percentage = 0.5\n+app_floodlight_firewall_allow_percentage = 0.8\n app_floodlight_load_balancer_pool_size = 2\n\\ No newline at end of file\ndiff --git a/config/onos.py b/config/onos.py\nindex 929f4d7..36a0a21 100644\n--- a/config/onos.py\n+++ b/config/onos.py\n@@ -6,7 +6,6 @@ from sts.control_flow.interactive import Interactive\n from sts.input_traces.input_logger import InputLogger\n from sts.simulation_state import SimulationConfig\n from sts.happensbefore.hb_logger import HappensBeforeLogger\n-from config.application_events import AppCircuitPusher\n \n \n \n@@ -16,17 +15,17 @@ start_cmd = '''tail -f \"/home/jeremie/Applications/apache-karaf-3.0.3/data/log/k\n controllers = [ControllerConfig(start_cmd, controller_type='logfile', cwd='./')]\n \n num = 2\n-topology_class = StarTopology\n-topology_params = \"num_hosts=%d\" % num\n+# topology_class = StarTopology\n+# topology_params = \"num_hosts=%d\" % num\n # topology_class = MeshTopology\n # topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\n # topology_params = \"num_rows=3, num_columns=3\"\n-# topology_class = BinaryLeafTreeTopology\n-# topology_params = \"num_levels=%d\" % num\n+topology_class = BinaryLeafTreeTopology\n+topology_params = \"num_levels=%d\" % num\n \n steps = 200\n-results_dir = \"traces/trace_onos-ifwd-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n+results_dir = \"traces/trace_onos_ifwdnoinstr-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n \n apps = None\n \ndiff --git a/config/trace_floodlight_circuitpusher.py b/config/trace_floodlight_circuitpusher.py\nindex 7815bc5..cbdb5be 100644\n--- a/config/trace_floodlight_circuitpusher.py\n+++ b/config/trace_floodlight_circuitpusher.py\n@@ -19,8 +19,8 @@ controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0\n # controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n \n num = 2\n-topology_class = StarTopology\n-topology_params = \"num_hosts=%d\" % num\n+# topology_class = StarTopology\n+# topology_params = \"num_hosts=%d\" % num\n #topology_class = MeshTopology\n #topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\ndiff --git a/config/trace_floodlight_firewall.py b/config/trace_floodlight_firewall.py\nindex dfafeed..5d2de55 100644\n--- a/config/trace_floodlight_firewall.py\n+++ b/config/trace_floodlight_firewall.py\n@@ -11,26 +11,26 @@ from config.application_events import AppFloodlightFirewall\n start_cmd = ('''java -ea -Dlogback.configurationFile=./src/main/resources/logback-trace.xml -jar '''\n              '''./target/floodlight.jar '''\n               '''-cf ./src/main/resources/trace_firewall.properties''')\n-\n+  \n controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633)]\n \n # Uncomment this if you are running Floodlight separately, e.g. for debugging in Eclipse. There must be a controller listening on port 6633.\n # start_cmd = '''echo \"no-op\"'''\n # controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n \n-num = 1\n-# topology_class = StarTopology\n-# topology_params = \"num_hosts=%d\" % num\n+num = 4\n+topology_class = StarTopology\n+topology_params = \"num_hosts=%d\" % num\n # topology_class = MeshTopology\n # topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\n # topology_params = \"num_rows=3, num_columns=3\"\n-topology_class = BinaryLeafTreeTopology\n-topology_params = \"num_levels=%d\" % num\n+# topology_class = BinaryLeafTreeTopology\n+# topology_params = \"num_levels=%d\" % num\n \n steps = 200\n results_dir = \"traces/trace_floodlight_firewall-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n-\n+# results_dir = \"xtraces/trace_floodlight_firewall-%s%d-small\" % (topology_class.__name__, num)\n apps = [AppFloodlightFirewall('firewall', cwd='./', controller='localhost:8080')]\n \n simulation_config = SimulationConfig(controller_configs=controllers,\ndiff --git a/config/trace_floodlight_forwarding.py b/config/trace_floodlight_forwarding.py\nindex 9da6188..bdb9b3f 100644\n--- a/config/trace_floodlight_forwarding.py\n+++ b/config/trace_floodlight_forwarding.py\n@@ -6,7 +6,6 @@ from sts.control_flow.interactive import Interactive\n from sts.input_traces.input_logger import InputLogger\n from sts.simulation_state import SimulationConfig\n from sts.happensbefore.hb_logger import HappensBeforeLogger\n-from config.application_events import AppCircuitPusher\n \n start_cmd = ('''java -ea -Dlogback.configurationFile=./src/main/resources/logback-trace.xml -jar '''\n              '''./target/floodlight.jar '''\n@@ -18,7 +17,7 @@ controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0\n # start_cmd = '''echo \"no-op\"'''\n # controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n \n-num = 1\n+num = 2\n # topology_class = StarTopology\n # topology_params = \"num_hosts=%d\" % num\n #topology_class = MeshTopology\ndiff --git a/config/trace_floodlight_learningswitch.py b/config/trace_floodlight_learningswitch.py\nindex 9e7537a..ea265fb 100644\n--- a/config/trace_floodlight_learningswitch.py\n+++ b/config/trace_floodlight_learningswitch.py\n@@ -6,7 +6,6 @@ from sts.control_flow.interactive import Interactive\n from sts.input_traces.input_logger import InputLogger\n from sts.simulation_state import SimulationConfig\n from sts.happensbefore.hb_logger import HappensBeforeLogger\n-from config.application_events import AppCircuitPusher\n \n start_cmd = ('''java -ea -Dlogback.configurationFile=./src/main/resources/logback-trace.xml -jar '''\n              '''./target/floodlight.jar '''\n@@ -18,7 +17,7 @@ controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0\n # start_cmd = '''echo \"no-op\"'''\n # controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n \n-num = 1\n+num = 2\n # topology_class = StarTopology\n # topology_params = \"num_hosts=%d\" % num\n #topology_class = MeshTopology\ndiff --git a/config/trace_floodlight_loadbalancer.py b/config/trace_floodlight_loadbalancer.py\nindex 0827332..1ed0e5c 100644\n--- a/config/trace_floodlight_loadbalancer.py\n+++ b/config/trace_floodlight_loadbalancer.py\n@@ -8,28 +8,28 @@ from sts.simulation_state import SimulationConfig\n from sts.happensbefore.hb_logger import HappensBeforeLogger\n from config.application_events import AppFloodlightLoadBalancer\n \n-start_cmd = ('''java -ea -Dlogback.configurationFile=./src/main/resources/logback-trace.xml -jar '''\n-             '''./target/floodlight.jar '''\n-              '''-cf ./src/main/resources/trace_loadbalancer.properties''')\n-\n-controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633)]\n+# start_cmd = ('''java -ea -Dlogback.configurationFile=./src/main/resources/logback-test-trace.xml -jar '''\n+#              '''./target/floodlight.jar '''\n+#               '''-cf ./src/main/resources/trace_loadbalancer.properties''')\n+# \n+# controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633)]\n \n # Uncomment this if you are running Floodlight separately, e.g. for debugging in Eclipse. There must be a controller listening on port 6633.\n-# start_cmd = '''echo \"no-op\"'''\n-# controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n+start_cmd = '''echo \"no-op\"'''\n+controllers = [ControllerConfig(start_cmd, cwd='../floodlight', address=\"127.0.0.1\", port=6633, controller_type='dummy')]\n \n num = 2\n-topology_class = StarTopology\n-topology_params = \"num_hosts=%d\" % num\n-#topology_class = MeshTopology\n-#topology_params = \"num_switches=%d\" % num\n+# topology_class = StarTopology\n+# topology_params = \"num_hosts=%d\" % num\n+# topology_class = MeshTopology\n+# topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\n # topology_params = \"num_rows=3, num_columns=3\"\n-# topology_class = BinaryLeafTreeTopology\n-# topology_params = \"num_levels=%d\" % num\n+topology_class = BinaryLeafTreeTopology\n+topology_params = \"num_levels=%d\" % num\n \n steps = 200\n-results_dir = \"traces/trace_floodlight_loadbalancer-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n+results_dir = \"xtraces/trace_floodlight_loadbalancer-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n \n apps = [AppFloodlightLoadBalancer('loadbalancer', cwd='./', controller='localhost:8080')]\n \ndiff --git a/config/trace_pox_l2_multi.py b/config/trace_pox_l2_multi.py\nindex a935594..057f854 100644\n--- a/config/trace_pox_l2_multi.py\n+++ b/config/trace_pox_l2_multi.py\n@@ -19,17 +19,17 @@ start_cmd = ('''./pox.py --verbose '''\n \n controllers = [ControllerConfig(start_cmd, cwd=\"pox/\")]\n \n-num = 2\n-#topology_class = StarTopology\n-#topology_params = \"num_hosts=%d\" % num\n+num = 4\n+topology_class = StarTopology\n+topology_params = \"num_hosts=%d\" % num\n #topology_class = MeshTopology\n #topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\n # topology_params = \"num_rows=3, num_columns=3\"\n-topology_class = BinaryLeafTreeTopology\n-topology_params = \"num_levels=%d\" % num\n+# topology_class = BinaryLeafTreeTopology\n+# topology_params = \"num_levels=%d\" % num\n \n-steps = 100\n+steps = 200\n # Where should the output files be written to\n results_dir = \"traces/trace_pox_l2_multi-%s%d-steps%s\" % (topology_class.__name__, num, steps)\n \ndiff --git a/config/trace_pox_l2_multi_new.py b/config/trace_pox_l2_multi_new.py\nindex 6b7a293..2f97ef8 100644\n--- a/config/trace_pox_l2_multi_new.py\n+++ b/config/trace_pox_l2_multi_new.py\n@@ -15,17 +15,17 @@ from sts.happensbefore.hb_logger import HappensBeforeLogger\n # Use POX as our controller\n \n \n-start_cmd = (\" ./pox.py --verbose openflow.of_01 --address=__address__ --port=__port__  openflow.discovery forwarding.l2_multi_orig\")\n+start_cmd = (\" ./pox.py --verbose openflow.of_01 --address=__address__ --port=__port__  openflow.discovery forwarding.l2_multi\")\n \n #start_cmd = '''echo \"no-op\"'''\n #controllers = [ControllerConfig(start_cmd, cwd=\"pox/\", address=\"192.168.56.1\", port=6633, controller_type='dummy')]\n-controllers = [ControllerConfig(start_cmd, cwd=\"/home/ahassany/repos/pox/\", port=6633)]\n+controllers = [ControllerConfig(start_cmd, cwd=\"/home/jeremie/mscthesis/jmiserez/pox/\", port=6633)]\n \n-num = 2\n-topology_class = StarTopology\n-topology_params = \"num_hosts=%d\" % num\n-topology_class = MeshTopology\n-topology_params = \"num_switches=%d\" % num\n+num = 1\n+# topology_class = StarTopology\n+# topology_params = \"num_hosts=%d\" % num\n+# topology_class = MeshTopology\n+# topology_params = \"num_switches=%d\" % num\n # topology_class = GridTopology\n # topology_params = \"num_rows=3, num_columns=3\"\n topology_class = BinaryLeafTreeTopology\ndiff --git a/sts/happensbefore/hb_graph.py b/sts/happensbefore/hb_graph.py\nindex c8e2eab..98c56bd 100755\n--- a/sts/happensbefore/hb_graph.py\n+++ b/sts/happensbefore/hb_graph.py\n@@ -467,6 +467,7 @@ class HappensBeforeGraph(object):\n       if type(event) == HbMessageHandle and getattr(event.msg, 'data', None):\n         packet = ethernet(event.msg.data)\n       if packet and packet.type in self.ignore_ethertypes:\n+        print \"Filtered PKT in ignore_ethertypes\"\n         return\n \n     msg_type = getattr(event, 'msg_type', None)",
      "status": "On branch hb\nYour branch is up-to-date with 'origin/hb'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   config/application_events.py\n\tmodified:   config/fuzzer_params.py\n\tmodified:   config/onos.py\n\tmodified:   config/trace_floodlight_circuitpusher.py\n\tmodified:   config/trace_floodlight_firewall.py\n\tmodified:   config/trace_floodlight_forwarding.py\n\tmodified:   config/trace_floodlight_learningswitch.py\n\tmodified:   config/trace_floodlight_loadbalancer.py\n\tmodified:   config/trace_pox_l2_multi.py\n\tmodified:   config/trace_pox_l2_multi_new.py\n\tmodified:   sts/happensbefore/hb_graph.py\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n\tall_traces_add_outputs_to_git.sh~\n\tfw2test.sh\n\tfwtest.sh\n\tgen.sh~\n\tlbtest.sh\n\txtraces/\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")"
    }
  },
  "sys": {
    "lsb_release": "Ubuntu 14.04.3 LTS",
    "uname": "Linux espresso 3.13.0-67-generic #110-Ubuntu SMP Fri Oct 23 13:24:41 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux"
  },
  "timestamp": "2015_11_14_16_11_51",
  "user": "jeremie"
}
